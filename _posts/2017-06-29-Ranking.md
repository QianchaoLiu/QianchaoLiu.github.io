---
layout: post
title:  "Ranking"
date:   2017-06-29 00:00:04
categories: liuqianchao update
---


### 1. Ranking Question

&emsp; 排序，作为信息检索领域的核心问题，这些年来不断以新的形式出现在互联网的方方面面。比如在你在“今日头条”点击了一条刘强东和奶茶妹妹的新闻，在接下来的若干天里，你的信息流首页里，相关的信息将持续排在较高的位置。以上便是排序在协同过滤(Collaborative filtering)领域的应用。   
&emsp;而将机器学习与排序结合到一起，是近20年以来大家常用的做法。机器学习下的排序问题可以概括为：用户给出一个query, 搜索引擎会匹配出一定数目的documents, 然后使用机器学习的模型f(q,d)对documents进行排序。 MSRA的刘铁岩将MLR(Machine-learned Ranking)总结为三类：    
1. Pointwise   
&emsp;认为每一个query-document对都对应一个得分(相关性)，因此该类MLR问题可以看作是回归问题，即训练Regreesion Model，来预测每一个query-ducoument的得分，再将document按照得分由高到低进行排序。   
2. Pairwise   
&emsp;看作是分类问题。    
3. Listwise   
&emsp;上述两种类型都没有考虑每个query下所有document之间的序列关系(只考虑了各个document的预测分). 而listwise考虑的是将一个ranking list作为一个instance进行训练，而非document。

### 2. Evaluation Measure

&emsp;对于MLR模型，其算法结果Evaluation的对象与一般机器学习分类器的有一定的不同，前者更关注相对顺序，而非绝对数值。常用的得Evaluation方法包括：   
1. rmalized Discounted Cumulative Gain(NDCG)   

&emsp;表示从第一个位置到第K个位置的累积折扣信息增益。每个位置的信息折扣增益为：   

$$
G(j)+D(\pi_i(j))
$$

&emsp;其中$$G(j)=2^{y_{i,j}}-1$$与document的相关度成正比；$$D(\pi_i(j))=\frac{1}{log_2(1+\pi_i(j))}$$表示该document所在位置的折扣,其中\pi_i(j)为$$d_ij$$在第i次query中排列的位置。    
&emsp;因此，最大化NDCG来使好的结果排在靠前的位置。

2. MAP(Mean Average Precision)
&emsp;k个query的准确率的平均。每个query准确率的定义为：$$\sum_{j=1}^{n_i} P(j) y_{i,j}$$, 其中$$P(j)$$为Precision, $$y_{i,j}$$为相关性判断：取0和1。



### 3.  Common Model

1. RankNet

2. LambdaRank

3. LambdaMart

